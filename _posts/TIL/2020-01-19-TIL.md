---
layout: post
title: "200119 - TIL"
author: "DAEUN"
hidden: true
---

### [KOR]
어제 팀원들이 파이어베이스에 사용자가 입력한 값을 삽입하는 기능을 넣었고 오늘은 내가 삽입한 정보를 불러와 그 값을 토대로 그래프를 그리는 작업을했다. 다만 날짜를 주별/월별로 어떤 조건문을 적어야 효율적일지 몰라서 일단 급한대로 값을 대입한 점이 아쉽다. 이 프로젝트와 캡스톤을 비롯한 협업을 하면서 느끼고 있는 점이지만 개발 설계 작업도 중요하고 상호간 충분한 협의와 동의가 필요하다는 생각이 든다. 또한 사용자가 달력 컴포넌트의 날짜를 클릭했을 때 해당 날짜에 입력했던 데이터를 보여주는 것도 역시 파이어베이스에서 불러올 수 있었고 이때의 조건은 사용자가 선택한 날짜와 파이어베이스에 저장된 날짜가 같을 때 해당 값을 불러와 화면에 보여주는 것이었는데, 날짜가 한자리 수일 때, 예를 들어 2020년 1월 1일의 경우 달력 컴포넌트는 2020-1-1로 저장하는데 반해 친구가 만들었던 파이어베이스 다큐먼트 이름은 2020-01-01과 같은 형태였다. 따라서 이 둘을 같게 하기 위해 다큐먼트 이름의 형식을 수정하기로하였고 LocalDate.now().format(DateTimeFormatter.ofPattern("yyyy-m-d"))로 형식을 수정할 수 있었다. 마지막으로 데이터베이스에서 값을 가져올 때 사용자가 혈당에 대한 값을 하루에 최대 6번 입력할 수 있고 그 값을 각각 파이어베이스에 다른 다큐먼트로 저장하는 방식인데, 나는 하루 동안 입력한 값의 평균을 계산해 그래프의 점으로 그리는 것을 담당했고 이것을 어떻게 구현하면 좋을지에 대한 고민을했다. 파이어베이스의 저장 구조를 우선 개선하고 싶었지만 마감일이 하루밖에 남지 않았기 때문에 최대한 주어진 상황 속에서 해결하려 노력했고 여러 시도를 거친 결과 각 다큐먼트의 값을 하나의 객체로 받고 그 객체를 ArrayList에 저장하여 반복문을 통해 조건이 맞는지 확인하고 해당 객체의 필드값을 직접 불러올 수 있었다. 기획부터 디자인, 개발까지 모두 단 일주일 동안의 시간이 있지만 마지막 남은 하루까지 끝까지 노력해서 하고자한 일을 최대한 끝내고싶다.
<br><br><br>
### [ENG]
Last night, my teammates let our app to insert input data into firebase and I made it to retrieve data and draw a graph on the screen. I didn't know how to get data that ranges only a week and a month so that I just set the data in manual, which I was not pleased to. As I work on in team projects, I feel that planning how to develop is really important and enhance efficiency of development and we needed more conversation and consensus about it. I also made appropriate data print out on the screen when the user clicks a date in calendar component. I could made this by getting data in firebase and there was a problem that the format of date was different between calendar and the name of the firebase's document, wich was 'yyyy-m-d' and 'yyyy-mm-dd'. So I changed the name of the documents by calling _LocalDate.now().format(DateTimeFormatter.ofPattern("yyyy-m-d"))_. And we have 6 inputs in total for the same data field everyday. My job was to calculate average value of it and show it on a graph by making a point. It was not that easy to think of the way to solve this problem because of the structure of our firebase, but I decided to get the data in an instance and put it in an ArrayList so that I could check all the data by iterative sentence and access its fields. There is only a week to planning, designing, and developing this app and we have only one day left. I'll try my best until the end to get most of our planned work done.