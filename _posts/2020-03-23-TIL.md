---
layout: post
title: "200323 - TIL"
author: "DAEUN"
---

### [KOR]
오늘은 유니티로 게임 개발을 진행했는데, 사용자가 화면을 터치하면 조준한 지점으로 공이 날아가도록하고 사용자가 공격을 받으면 타격을 입은 만큼 HP바의 길이가 줄어들도록 구현했다. 처음 이 바를 어떻게 구현하면 좋을지 몰라 이미지를 축소하는 방향으로 만들어보기 위해 이미지로 배치해놨었는데, 작년 여름 유튜브에서 Brackey's의 유니티 영상에서 Scrollbar을 쓴 것을 기억해내고 Scrollbar에 디자이너가 디자인한 바 이미지를 넣어 size를 조절해가며 만들 수 있었다. 또한 유니티에서는 매 씬이 로드될 때마다 그리고 그 씬에서 초기화 해야할 것들이 많을수록 시간이 지체된다. AR을 활용하는 씬에서는 특히 AR 카메라가 처음 로딩이 되는데 시간이 걸리는 것을 느끼는데, 사용자가 스마트폰의 카메라를 이용해 움직이며 몬스터와 인터랙션 할 것이기 때문에 처음 사용자에 대한 스크립트를 이 AR 카메라에 넣고 동작을 구현하는 데 문제가 없었다. 하지만 이 로딩 시간에서 문제가 발생했다. 사용자가 몬스터로부터 공격을 받으면 공격을 받았다는 시각적 효과로 화면 전체가 붉어지도록 이미지가 보이도록 디자인했는데, 유니티에서는 이 이미지를 off 하기 전에 해당 스크립트에서 참조를 먼저 해두고 off를 해야만 한다. 하지만 AR 카메라에 존재하는 이 스크립트에서 참조를 하고 off를 하는 데까지 시간이 걸려 씬이 시작했는데도 불구하고 화면이 붉게 보이는 문제였다. 이를 해결하기 위해 AR 카메라 밖에 빈 게임 오브젝트를 생성해 이곳에 배치해봤으나 box collider를 입히면 차이가 없다는 것을 알고 어떻게 해결하면 좋을지 고민했다. 그러던 중 미리 이미지의 투명도를 0으로 하여 on이 되어 있어도 보이지 않는 것처럼 하여 씬이 로드되는 사이 참조를 해두고 후에 이미지를 on할 때 투명도를 다시 255로 하여 붉은 이미지가 눈에 보이도록 하면 되지 않을까라는 생각이 스쳐 지나갔고 이대로 성공적으로 작동됨을 확인할 수 있었다.
<br><br><br>
### [ENG]
I developed Unity project today. I made a ball to shoot towards the target when the user touches the screen. I also made the status bar for user HP. It was originally put as an image, but I soon remembered there is a feature for status bar in Unity called Scrollbar, which I learned it by watching Brackey's youtube videos last summer. I could change the status bar by changing the value for _size_ of the scroll bar when the user is hit by a monster's attack. And whenever the scene is loaded in Unity, it has delay especially for AR camera. I set this AR camera to be a player because the user will see the monster by moving its smartphone(camera). The script should reference an image which will be shown when the user gets hit, not when the scene begins. However, AR camera takes time to load so that I could see the image in the beginning. I made an empty game object instead but the problem was still existing when it gets a box collider. I didn't know what to do instead, but soon I thought making the image's opacity to zero will make the image invisible at first and I can make it visible when the user gets attack. Finally I could successfully make it by doing so.